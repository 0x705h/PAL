#ifndef __GEN_OBJECTS_H__
#define __GEN_OBJECTS_H__

#include "common.h"
#include "game.h"

/* This is an autogenerated file. Do not modify directly! */

<% objects.each do |object_id, attrs| %>
  /** <%= object_id %> **/

  <% attrs['actions'].each do |action, response| %>
    void <%= object_id %>_action_<%= action %>() {
      printf(<%= string(Array(response)[0]) %>);
    }
  <% end %>

  static Action <%= object_id %>Actions[] = 
  {
    <% attrs['actions'].each_key do |action| %>
     { 
        "<%= action %>", 
        &<%= object_id %>_action_<%= action %>
     },
    <% end %>
  };

  static Object <%= object_id %> = {
      /*.name         = */ <%= string(attrs['name'] || room_id) %>,
      /*.prefix       = */ <%= string(attrs['prefix']) %>,
      /*.alias        = */ <%= string(attrs['alias']) %>,
      /*.other_names  = */ <%= string(attrs['other_names']) %>,
      /*.description  = */ <%= string(attrs['description']) %>,
      /*.actions      = */ <%= object_id %>Actions,
      /*.numActions   = */ sizeof(<%= object_id %>Actions) / sizeof(*<%= object_id %>Actions),
  };


<% end %>

#endif
